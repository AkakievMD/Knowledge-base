---------------------------------------------------------------------------------------------iptables-------------------------------------------------------------------------------
-A добавление нового правила. -p протокол. --dport порт. -m модуль. -s источник. -j действие. 
-A INPUT/OUTPUT -s 192.168.80.1/24 -p tcp -m state --state NEW -m tcp --dport 22 -j ACCEPT/DROP/LOG --log-prefix "error" (ACCEPT, DROP или LOG входящий или исходящий трафик по порту и ip)
-A INPUT/OUTPUT -p tcp -m state --state NEW -m tcp --dport 67 -j ACCEPT/DROP/LOG --log-prefix "error" (разрешаем, запрещаем или логируем входящий или исходящий трафик по указанному порту)
-A INPUT -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT (разрешаем уже установленное соединение в обе стороны)
-A INPUT -p tcp -m tcp --dport 80 -m limit --limit 20/minute --limit-burst 100 -j ACCEPT(от DDos, значения подбираются индивидуально для каждого сервера исходя из рабочей нагрузки на него)
--limit 20/minute максимальная средняя частота положительных результатов в секунду, минуту, час, день. После числа можно указывать единицы second, minute, hour, day
--limit-burst number ограничивает исходное число пропускаемых пакетов - это число увеличивается на единицу каждый раз когда ограничение на частоту положительных результатов не достигается 

NEW - пакеты, устанавливающие новое соединение
ESTABLISHED - пакеты, принадлежащие установленному соединению
RELATED - пакеты, не принадлежащие установленному соединению 
Пакеты, являющиеся частью новых соединений, инициированые уже установленным ESTABLISHED соединением

-------------------------------------------------------------------------------------------DHCP on CentOS7----------------------------------------------------------------------------
yum install dhcp
отредактировать файл по пути /etc/sysconfig/network-scripts/ifcfg-имя сетевухи (так как dhcp сервер должен иметь статические настройки)
добавить и изменить эти параметры в сетевухе для dhcp BOOTPROTO=static IPADDR=из вашей подсети PREFIX=из вашей подсети GATEWAY=ip роутера или того что будет шлюзом DNS1=можно ip роутера
systemctl restart network
-A INPUT -p tcp -m state --state NEW -m tcp --dport 67 -j ACCEPT (открываем порт для dhcp через iptables) 
systemctl restart iptables
/etc/dhcp/dhcpd.conf (конфиг)
systemctl start dhcpd
systemctl enable dhcpd
---config---
option domain-name "angeloT2";   
option domain-name-servers 192.168.43.1;
default-lease-time 32400;
max-lease-time 604800;
min-lease-time 7200;
subnet 192.168.43.0 netmask 255.255.255.0 {
 range 192.168.43.40 192.168.43.50;
 option routers 192.168.43.1;
 option subnet-mask 255.255.255.0;
 option broadcast-address 192.168.43.255;

group {
  option domain-name-servers 192.168.43.1;

host angeloT1 {
  option host-name "angeloT1";
  hardware ethernet 00:0c:29:9c:26:a1;
  fixed-address 192.168.43.55;
}
host maylo {
  option host-name "maylo";
  hardware ethernet 00:0c:29:49:71:d9;
  fixed-address 192.168.43.23;
}
}
}

----------------------------------------------------------------------------------------Сетевые утилиты и команды-----------------------------------------------------------------------
ssh root@111.222.222.333(ssh из терминала) ssh keygen (создать ключи) ssh-copy-id root@111.222.333.444 (закинуть публичный ключ на удаленную тачку)
ip route add 192.168.43.0/24 via 192.168.43.1 dev имя сетевухи (добавить маршрут через который будет идти трафик до перезагрузки, это может быть другая сетевая карта или роутер)
ip link set dev ens33 up/down mtu 1500 (вк/выкл сетевухи) (строчкой ниже указаны поля которые нужно либо изменить, либо добавить в файл если хотим задать статические настройки)
BOOTPROTO=static IPADDR=10.16.103.52 PREFIX=24 GATEWAY=10.16.103.1 DNS1=8.8.8.8 DNS2=8.8.4.4 ONBOOT="yes"(редактировать в файле по пути /etc/sysconfig/network-scripts/ifcfg-имя сетевухи)